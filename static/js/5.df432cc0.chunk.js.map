{"version":3,"sources":["components/hoc/AuthRedirect.jsx","assets/user.png","components/Users/users.module.css","components/common/Paginator/Paginator.module.css","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"names":["mapStateToProps","_ref","isAuth","authReducer","withAuthRedirectHOC","Component","AuthRedirectHOC","_React$Component","Object","D_web_1_master_web_1_master_react_way_of_samurai_itCamasutra_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__","_super","D_web_1_master_web_1_master_react_way_of_samurai_itCamasutra_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__","D_web_1_master_web_1_master_react_way_of_samurai_itCamasutra_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","apply","arguments","D_web_1_master_web_1_master_react_way_of_samurai_itCamasutra_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","props","react__WEBPACK_IMPORTED_MODULE_4___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","to","React","connect","module","exports","__webpack_require__","p","user","leftSide","rightSide","rightInner","pages","prev","next","disabled","Paginator","setPage","currentPage","counter","pagesCount","react_default","className","s","onClick","e","User","_ref$user","photos","followed","name","status","location","other","objectWithoutProperties","isFetching","unfollowUser","followingInProgress","followUser","Prelodaer","react_router_dom","concat","id","src","small","userPhoto","alt","some","leftInner","city","country","Users","users","Paginator_Paginator","map","User_User","UsersContainer","state","onPageChanged","_this$props","_this","pageSize","pageChangeThunkCreater","target","innerHTML","setState","followThunkCreater","getUsersThunkCreater","_this$props2","totalUsersCount","Math","ceil","Fragment","components_Users_Users","assign","mapDispatchToProps","toggleFollowingProgress","compose","_ref2","_ref2$userReducer","userReducer"],"mappings":"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","file":"static/js/5.df432cc0.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = ({authReducer: {isAuth}}) => ({isAuth})\r\n\r\nexport const withAuthRedirectHOC = (Component) => {\r\n\r\n    class AuthRedirectHOC extends React.Component {\r\n        render() {\r\n            const {isAuth} = this.props\r\n\r\n            return !isAuth ? <Redirect to={'/login'}/> : <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(AuthRedirectHOC)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/user.d9870e6d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"users_user__1nV80\",\"leftSide\":\"users_leftSide__i5Fo2\",\"rightSide\":\"users_rightSide__1kAtG\",\"rightInner\":\"users_rightInner__39_DE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages\":\"Paginator_pages__3OCZS\",\"prev\":\"Paginator_prev__1XFFU\",\"next\":\"Paginator_next__2mqoi\",\"disabled\":\"Paginator_disabled__2ILe8\"};","import React from 'react'\r\nimport s from \"./Paginator.module.css\";\r\n\r\n\r\nexport const Paginator = ({\r\n                              setPage,\r\n                              currentPage,\r\n                              counter,\r\n                              pagesCount\r\n                          }) => (\r\n    <div className={s.pages}>\r\n        <button\r\n            onClick={e => setPage(e)}\r\n            disabled={currentPage === 1}\r\n            className={currentPage === 1 ? s.disabled : s.prev}\r\n        >\r\n            prev\r\n        </button>\r\n        <span>{counter}</span>\r\n        <button\r\n            onClick={e => setPage(e)}\r\n            disabled={currentPage === pagesCount}\r\n            className={currentPage === pagesCount ? s.disabled : s.next}\r\n        >\r\n            next\r\n        </button>\r\n    </div>\r\n)","import React from 'react'\r\nimport s from \"./users.module.css\";\r\nimport Preloader from \"../common/Preloader/Prelodaer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/user.png\";\r\n\r\n\r\nexport const User = ({\r\n                         user: {photos, followed, name, status, location, ...other},\r\n                         isFetching,\r\n                         unfollowUser,\r\n                         followingInProgress,\r\n                         followUser\r\n                     }) => (\r\n    <div className={s.user}>\r\n        <div className={s.leftSide}>\r\n            {isFetching ? (\r\n                <Preloader/>\r\n            ) : (\r\n                <NavLink to={`/profile/${other.id}`}>\r\n                    <img\r\n                        src={photos.small != null ? photos.small : userPhoto}\r\n                        alt={\"avatar\"}\r\n                    />\r\n                </NavLink>\r\n            )}\r\n            <button onClick={followed ? () => unfollowUser(other.id) : () => followUser(other.id)}\r\n                    disabled={followingInProgress.some(id => id === other.id)}\r\n            >\r\n                {followed ? 'unfollow' : 'follow'}\r\n            </button>\r\n        </div>\r\n        <div className={s.rightSide}>\r\n            <div className={s.leftInner}>\r\n                <h3>{name}</h3>\r\n                <p>{status}</p>\r\n            </div>\r\n            <div className={s.rightInner}>\r\n                        <span>\r\n                          {location ? location.city : \"Kyiv\"}\r\n                            <br/>\r\n                            {location ? location.country : \"Ukraine\"}\r\n                        </span>\r\n            </div>\r\n        </div>\r\n    </div>)","import React from \"react\";\r\nimport s from \"./users.module.css\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\n\r\n\r\nconst Users = ({\r\n                   users,\r\n                   followUser,\r\n                   unfollowUser,\r\n                   currentPage,\r\n                   pagesCount,\r\n                   counter,\r\n                   setPage,\r\n                   isFetching,\r\n                   followingInProgress\r\n               }) => (\r\n    <div className={s.users}>\r\n        <Paginator setPage={setPage}\r\n                   counter={counter}\r\n                   pagesCount={pagesCount}\r\n                   currentPage={currentPage}\r\n        />\r\n        {users.map(user => (\r\n            <User\r\n                key={user.id}\r\n                user={user}\r\n                isFetching={isFetching}\r\n                unfollowUser={unfollowUser}\r\n                followingInProgress={followingInProgress}\r\n                followUser={followUser}\r\n            />\r\n        ))}\r\n    </div>\r\n)\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Prelodaer\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    toggleFollowingProgress,\r\n    getUsersThunkCreater,\r\n    pageChangeThunkCreater,\r\n    followThunkCreater\r\n} from \"../../redux/usersReducer\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirectHOC} from \"../hoc/AuthRedirect\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    state = {\r\n        counter: 1\r\n    };\r\n\r\n    componentDidMount() {\r\n        const {getUsersThunkCreater} = this.props\r\n        getUsersThunkCreater()\r\n    }\r\n\r\n    onPageChanged = () => {\r\n        const {pageSize, pageChangeThunkCreater} = this.props;\r\n        const {counter} = this.state;\r\n\r\n        pageChangeThunkCreater(counter, pageSize)\r\n    };\r\n\r\n    setPage = ({target: {innerHTML}}) => {\r\n        if (innerHTML === \"prev\") {\r\n            this.setState({counter: this.state.counter - 1});\r\n        } else {\r\n            this.setState({counter: this.state.counter + 1});\r\n        }\r\n    };\r\n\r\n    componentDidUpdate(props, state) {\r\n        state !== this.state && this.onPageChanged();\r\n    }\r\n\r\n    followUser = (id) => {\r\n        const {followThunkCreater} = this.props\r\n\r\n        followThunkCreater(id, 'post', true)\r\n    }\r\n\r\n    unfollowUser = (id) => {\r\n        const {followThunkCreater} = this.props\r\n\r\n        followThunkCreater(id, 'delete', false)\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            pageSize,\r\n            totalUsersCount,\r\n            isFetching\r\n        } = this.props;\r\n        let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n\r\n        return (\r\n            <>\r\n                {isFetching ? (\r\n                    <Preloader/>\r\n                ) : (\r\n                    <Users\r\n                        {...this.props}\r\n                        followUser={this.followUser}\r\n                        unfollowUser={this.unfollowUser}\r\n                        counter={this.state.counter}\r\n                        setPage={this.setPage}\r\n                        pagesCount={pagesCount}\r\n\r\n                    />\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n                             userReducer: {users, pageSize, totalUsersCount, currentPage, isFetching, followingInProgress}\r\n                         }) => ({users, pageSize, totalUsersCount, currentPage, isFetching, followingInProgress});\r\n\r\nconst mapDispatchToProps = {\r\n    toggleFollowingProgress,\r\n    getUsersThunkCreater,\r\n    pageChangeThunkCreater,\r\n    followThunkCreater\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirectHOC)(UsersContainer)\r\n\r\n\r\n"],"sourceRoot":""}