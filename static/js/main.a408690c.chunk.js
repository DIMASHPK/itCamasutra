(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){"use strict";n.d(t,"e",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return m});var a=n(27),r=n(4),c=n(16),i={users:[{id:1,followed:!0,name:"Shupyk Dmitry",status:"I`m a boss",location:{city:"Chernihiv",country:"Ukraine"},photos:{small:"https://memepedia.ru/wp-content/uploads/2019/06/dima-mihno-pepsi.png"}},{id:2,followed:!0,name:"Dushenok Daria",status:"I`m a girlfriend boss",location:{city:"Chernihiv",country:"Ukraine"},photos:{small:"https://i.ytimg.com/vi/aAJgRoXfY-8/maxresdefault.jpg"}},{id:3,followed:!1,name:"Molosh Alexander",status:"I`m a friend boss",location:{city:"Chernihiv",country:"Ukraine"},photos:{small:"https://cs5.pikabu.ru/images/big_size_comm/2014-06_5/1403524886751.jpg"}},{id:4,followed:!1,name:"Demeshko Stanislav",status:"I`m a friend boss",location:{city:"Chernihiv",country:"Ukraine"},photos:{small:"https://www.meme-arsenal.com/memes/61eb472f8a3fb383468826a43487a507.jpg"}}],pageSize:10,totalUsersCount:20,currentPage:1,isFetching:!1,followingInProgress:[]},u=function(e){return{type:"SET_USERS",users:e}},o=function(e){return{type:"TOGGLE_iS_FETCHING",isFetching:e}},l=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",bool:e,id:t}},s=function(){return function(e){e(o(!0)),c.a.getUsers().then(function(t){e(o(!1)),e(u(t.items)),e({type:"SET_TOTAL_COUNT",totalUsersCount:t.totalCount})})}},d=function(e,t){return function(n){n(o(!0)),n({type:"SET_CURRENT_PAGE_INCREMENT",currentPage:e}),c.a.pageChange(e,t).then(function(e){n(o(!1)),n(u(e.items))})}},m=function(e,t,n){return function(a){a(l(!0,e)),c.a.followUser(e,t).then(function(t){0===t.resultCode&&a(function(e,t){return{type:"FOLLOW",userId:e,followed:t}}(e,n)),a(l(!1,e))})}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.userId,u=t.users,o=t.followed,l=t.currentPage,s=t.totalUsersCount,d=t.isFetching,m=t.bool,f=t.id;switch(n){case"FOLLOW":return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map(function(e){return e.id===c?Object(r.a)(Object(r.a)({},e),{},{followed:o}):e})});case"SET_USERS":return Object(r.a)(Object(r.a)({},e),{},{users:u});case"SET_CURRENT_PAGE_INCREMENT":return Object(r.a)(Object(r.a)({},e),{},{currentPage:l});case"SET_TOTAL_COUNT":return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:s});case"TOGGLE_iS_FETCHING":return Object(r.a)(Object(r.a)({},e),{},{isFetching:d});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{followingInProgress:m?[].concat(Object(a.a)(e.followingInProgress),[f]):e.followingInProgress.filter(function(e){return e!=e})});default:return Object(r.a)({},e)}}},131:function(e,t,n){e.exports={friend:"Friend_friend__1ycMe"}},157:function(e,t,n){e.exports=n(286)},16:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(128),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"089b9c13-41ca-4c7b-b82b-fa6bc7d12363"}}),c={authMe:function(){return r.get("auth/me").then(function(e){return e.data})},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("auth/login")},followUser:function(e,t){return r[t]("follow/".concat(e)).then(function(e){return e.data})},pageChange:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},getUsers:function(){return r.get("users?page=1&count=10").then(function(e){return e.data})},getUser:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e}).then(function(e){return e.data})}}},22:function(e,t,n){e.exports={nav:"Navbar_nav__31HOl",item:"Navbar_item__1bSaI",active:"Navbar_active__214oD",wrap_friend:"Navbar_wrap_friend__2Se6A"}},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(125),i=n.n(c),u=n(23),o=n(12),l=n(8),s=n(127),d=n(93),m=n(95),f=n(27),p=[{src:"http://www.radionetplus.ru/uploads/posts/2013-04/1365401196_teplye-oboi-1.jpeg",name:"Dasha"},{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCJKZr5nc9-hK8l9aiayxzjQt8cqUmQxl6hvZ7POtKwaAY-Bd6&s",name:"Sasha"},{src:"https://img2.akspic.ru/fit/98580-karibskij_bassejn-more-otpusk-den-krasota-x750.jpg",name:"Stas"}],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;arguments.length>1&&arguments[1];return Object(f.a)(e)},b=n(101),g=n(4),E=n(16),v=n(47),O={id:null,email:null,login:null,isAuth:!1},_=function(e){return{type:"GET_DATA",data:e}},j=function(){return function(e){return E.a.authMe().then(function(t){return 0===t.resultCode&&e(_(Object(g.a)(Object(g.a)({},t.data),{},{isAuth:!0})))})}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.data;switch(n){case"GET_DATA":return Object(g.a)(Object(g.a)({},e),a);default:return Object(g.a)({},e)}},w=n(129),y=n(124),x={initialized:!1},T=Object(l.combineReducers)({dialogs_reducer:d.b,profile_reducer:m.b,nav_reducer:h,userReducer:b.a,authReducer:S,appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;switch((arguments.length>1?arguments[1]:void 0).type){case"SET_INITIALIZED":return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},form:y.a}),C=Object(l.createStore)(T,Object(s.composeWithDevTools)(Object(l.applyMiddleware)(w.a))),I=n(48),N=n(49),k=n(51),A=n(50),U=n(9),D=n(84),F=n.n(D),R=function(e){var t=e.logoutUserDataThunkCreater;return r.a.createElement("header",{className:F.a.header},r.a.createElement("img",{src:"https://www.freelogodesign.org/Content/img/logo-ex-7.png",alt:""}),r.a.createElement("div",{className:F.a.loginBlock},r.a.createElement("button",{onClick:t}," Logout ")))},z=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){return r.a.createElement(R,this.props)}}]),n}(r.a.Component),G={logoutUserDataThunkCreater:function(){return function(e){E.a.logout().then(function(t){return 0===t.data.resultCode&&e(_({email:null,password:null,rememberMe:null,isAuth:!1}))})}}},L=Object(o.b)(function(e){var t=e.authReducer;return Object(g.a)({},t)},G)(z),P=n(22),M=n.n(P),H=n(131),B=n.n(H),W=function(e){return r.a.createElement("div",{className:B.a.friend},r.a.createElement("img",{src:e.src,alt:"friend avatar"}),r.a.createElement("p",null,e.name))},Z=function(e){var t=e.friends;return r.a.createElement("nav",{className:M.a.nav},r.a.createElement("div",{className:M.a.item},r.a.createElement(u.b,{to:"/profile/",activeClassName:"".concat(M.a.active)},"Profile")),r.a.createElement("div",{className:"".concat(M.a.item," ").concat(M.a.active)},r.a.createElement(u.b,{to:"/dialogs/",activeClassName:"".concat(M.a.active)},"Messages")),r.a.createElement("div",{className:M.a.friends},r.a.createElement("h2",null,r.a.createElement(u.b,{to:"/users/"},"Friends")),r.a.createElement("div",{className:M.a.wrap_friend},t.map(function(e,t){return r.a.createElement(W,{src:e.src,name:e.name,key:t})}))))},J=Object(o.b)(function(e){return{friends:e.nav_reducer}})(Z),K=n(122),Y=n(123),q=n(32),Q=n(80),$=Object(q.a)(60),V=Object(q.a)(60),X=Object(q.b)(8),ee=Object(Y.a)({form:"login"})(function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(K.a,{name:"email",component:Q.a,type:"text",placeholder:"login",validate:[q.d,q.c,$]})),r.a.createElement("div",null,r.a.createElement(K.a,{name:"password",component:Q.a,type:"password",placeholder:"password",validate:[V,X,q.c]})),r.a.createElement("div",null,r.a.createElement(K.a,{name:"rememberMe",component:"input",type:"checkbox"}),"remember me"),n&&r.a.createElement("div",{className:"formSummeryError"},n),r.a.createElement("div",null,r.a.createElement("button",null,"login"))))}),te=Object(o.b)(function(e){return{isAuth:e.authReducer.isAuth}},{loginUserDataThunkCreater:function(e){var t=e.email,n=e.password,a=e.rememberMe,r=void 0!==a&&a;return function(e){E.a.login(t,n,r).then(function(t){var n=t.data;if(0===n.resultCode)e(j());else{var a=n.messages.length>0?n.messages.reduce(function(e,t){return"".concat(t)},""):"some error";e(Object(v.b)("login",{_error:a}))}})}}})(function(e){var t=e.isAuth,n=e.loginUserDataThunkCreater;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(U.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(ee,{onSubmit:function(e){n(e)}})))}),ne=n(63),ae=(n(284),r.a.lazy(function(){return n.e(3).then(n.bind(null,299))})),re=r.a.lazy(function(){return n.e(4).then(n.bind(null,298))}),ce=r.a.lazy(function(){return n.e(5).then(n.bind(null,300))}),ie=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.initializedThunkCreater)()}},{key:"render",value:function(){var e=this.props.initialized,t=function(e){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(ne.a,null)},e)};return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(L,null),r.a.createElement(J,null),r.a.createElement("div",{className:"app-wrapper-content"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(U.b,{path:"/",render:function(){return r.a.createElement(te,null)}}),r.a.createElement(U.b,{path:"/dialogs/",render:function(){return t(r.a.createElement(ae,null))}}),r.a.createElement(U.b,{path:"/profile/:userId?",render:function(){return t(r.a.createElement(re,null))}}),r.a.createElement(U.b,{path:"/users/",render:function(){return t(r.a.createElement(ce,null))}})):r.a.createElement(ne.a,null)))}}]),n}(a.Component),ue={initializedThunkCreater:function(){return function(e){e(j()).then(function(t){return e({type:"SET_INITIALIZED"})})}}},oe=Object(o.b)(function(e){return{initialized:e.appReducer.initialized}},ue)(ie);n(285);i.a.render(r.a.createElement(u.a,null,r.a.createElement(o.a,{store:C},r.a.createElement(oe,null))),document.getElementById("root"))},32:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return i});var a=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e):void 0}},c=function(e){return function(t){return t&&t.length<e?"Max length is ".concat(e):void 0}},i=function(e){return e&&e.match(/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i)?void 0:"Invalid Email"}},63:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(283);t.a=function(){return r.a.createElement("div",{className:"lds-default"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}},80:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return s});var a=n(64),r=n(0),c=n.n(r),i=n(87),u=n.n(i),o=function(e){var t=e.error,n=e.touched,a=e.children,r=n&&t;return c.a.createElement("div",{className:"".concat(u.a.formControl,"  ").concat(r?u.a.error:"")},a,r&&c.a.createElement("span",null,t))},l=function(e){var t=e.input,n=e.meta,r=(e.children,Object(a.a)(e,["input","meta","children"]));return c.a.createElement(o,n,c.a.createElement("textarea",Object.assign({},t,r)))},s=function(e){var t=e.input,n=e.meta,r=(e.children,Object(a.a)(e,["input","meta","children"]));return c.a.createElement(o,n,c.a.createElement("input",Object.assign({},t,r)))}},84:function(e,t,n){e.exports={header:"Header_header__3L79n",loginBlock:"Header_loginBlock__1Z2wE"}},87:function(e,t,n){e.exports={formControl:"FormControls_formControl__31ERS",error:"FormControls_error__IE6F7"}},93:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(27),r=n(4),c={messages:[{id:1,msg:"hi"},{id:2,msg:"How is your it-kamasutra"},{id:3,msg:"Yo"}],dialogsData:[{id:1,name:"Dima"},{id:2,name:"Dasha"},{id:3,name:"Sasha"},{id:4,name:"Nastya"},{id:5,name:"Masha"},{id:6,name:"Vinni"}]},i=function(e){return{type:"ADD_MESSAGE",msg:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0,n=t.type,i=t.msg;switch(n){case"ADD_MESSAGE":return i.length>0?Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[{id:e.messages.length+1,msg:i}]),newMessage:""}):Object(r.a)({},e);default:return Object(r.a)({},e)}}},95:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return m});var a=n(27),r=n(4),c=n(16),i={posts:[{id:1,post:"Hi, how are you?",like:3},{id:1,post:"It's my first post",like:32}],src:"https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350",profile:{},isFetching:!1,status:null},u=function(e){return{type:"ADD_POST",post:e}},o=function(e){return{type:"IS_FETCHING",isFetching:e}},l=function(e){return{type:"SET_STATUS",status:e}},s=function(e){return function(t){t(o(!0)),c.a.getUser(e).then(function(e){return t({type:"SET_USER_PROFILE",profile:e.data})}).then(function(){return t(o(!1))})}},d=function(e){return function(t){t(o(!0)),c.a.getStatus(e).then(function(e){return t(l(e.data))}).then(function(){return t(o(!1))})}},m=function(e){return function(t){c.a.updateStatus(e).then(function(n){return t(l(e))})}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.post,u=t.profile,o=t.isFetching,l=t.status,s=t.id;switch(n){case"ADD_POST":return c?Object(r.a)(Object(r.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[{id:e.posts.length,post:c,like:3}]),newPost:""}):Object(r.a)({},e);case"DELETE_POST":return Object(r.a)(Object(r.a)({},e),{},{posts:e.posts.filter(function(e){return e.id!=s})});case"SET_USER_PROFILE":return Object(r.a)(Object(r.a)({},e),{},{profile:u});case"IS_FETCHING":return Object(r.a)(Object(r.a)({},e),{},{isFetching:o});case"SET_STATUS":return Object(r.a)(Object(r.a)({},e),{},{status:l});default:return Object(r.a)({},e)}}}},[[157,1,2]]]);
//# sourceMappingURL=main.a408690c.chunk.js.map